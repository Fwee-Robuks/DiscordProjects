ZnJvbSBjb2xvcmFtYSBpbXBvcnQgaW5pdCwgRm9yZSwgQmFjaywgU3R5bGUKaW1wb3J0IHJlcXVlc3RzCmltcG9ydCBvcwppbXBvcnQgdGltZQppbXBvcnQganNvbgpmcm9tIHRocmVhZGluZyBpbXBvcnQgVGhyZWFkLCBMb2NrLCBjdXJyZW50X3RocmVhZAppbXBvcnQgc29ja2V0CmltcG9ydCBiYXNlNjQKCmluaXQoKQpvcy5zeXN0ZW0oInRpdGxlIERpc2NvcmQgTnVrZXIgVjMiKQpsb2NrID0gTG9jaygpCgojIEZ1bmN0aW9ucwoKZGVmIHNlbmRfbWVzc2FnZXMobWVzc2FnZSwgd2ViaG9va3MpOgogICAgdGhyZWFkcyA9IFtdCiAgICBmb3IgaSwgd2ViaG9va191cmwgaW4gZW51bWVyYXRlKHdlYmhvb2tzKToKICAgICAgICBwYXlsb2FkID0geydjb250ZW50JzogbWVzc2FnZX0KICAgICAgICBqc29uX3BheWxvYWQgPSBqc29uLmR1bXBzKHBheWxvYWQpCiAgICAgICAgdGhyZWFkID0gVGhyZWFkKHRhcmdldD1sYW1iZGE6IHJlcXVlc3RzLnBvc3Qod2ViaG9va191cmwsIGRhdGE9anNvbl9wYXlsb2FkLCBoZWFkZXJzPXsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSkpCiAgICAgICAgdGhyZWFkcy5hcHBlbmQodGhyZWFkKQogICAgICAgIHRocmVhZC5zdGFydCgpCgogICAgZm9yIHRocmVhZCBpbiB0aHJlYWRzOgogICAgICAgIHRocmVhZC5qb2luKCkKCmRlZiBzcGFtX3dlYmhvb2tzKG1lc3NhZ2UsIHdlYmhvb2tzLCBudW1fbWVzc2FnZXMpOgogICAgcHJpbnQoRm9yZS5ZRUxMT1cgKyAiW0NPTlNPTEVdIFN0YXJ0aW5nIHdlYmhvb2sgc3BhbS4uLiIpCiAgICBmb3IgaSBpbiByYW5nZShudW1fbWVzc2FnZXMpOgogICAgICAgIHNlbmRfbWVzc2FnZXMobWVzc2FnZSwgd2ViaG9va3MpCiAgICAgICAgcHJpbnQoRm9yZS5HUkVFTiArICJbTlVLRV0gTWVzc2FnZSBTdWNjZXNzZnVsbHkgU2VudCBXaXRob3V0IEFueSBJc3N1ZXMhIikKICAgICAgICB0aW1lLnNsZWVwKDUpCgojIExvYWRpbmcgUGhhc2UKCnByaW50KEZvcmUuR1JFRU4gKyAiW0NPTlNPTEVdIERpc2NvcmQgTnVrZXIgSGFzIExvYWRlZCEiKQp0aW1lLnNsZWVwKC4yKQpwcmludChGb3JlLkdSRUVOICsgZiJbQ09OU09MRV0gV2VsY29tZSBUbyBTdXBhaCBTZWNyZXQgRGlzY29yZCBXZWJob29rIEZ1Y2tlciEiKQp0aW1lLnNsZWVwKC4yKQpwcmludChGb3JlLkJMVUUgKyAiW0NPTlNPTEVdIENvbW1hbmQgUHJvbXB0IExvYWRlZCIpCndlYmhvb2tzID0gW10KZm9yIGkgaW4gcmFuZ2UoNCk6CiAgICB3ZWJob29rZm9yYm90ID0gaW5wdXQoZidQbGVhc2UgaW5zZXJ0IHRoZSBib3RzIHdlYmhvb2sgVVJMIHtpKzF9OiAnKQogICAgd2ViaG9va3MuYXBwZW5kKHdlYmhvb2tmb3Jib3QpCm9zLnN5c3RlbSgiY2xzIikKCiMgQ29tbWFuZHMKCnByaW50KEZvcmUuQkxVRSArICJMSVNUIE9GIENPTU1BTkRTIikKcHJpbnQoRm9yZS5HUkVFTiArICJbMV0gRGVsZXRlIDEgT3IgTW9yZSBXZWJob29rcy4iKQpwcmludChGb3JlLkdSRUVOICsgIlsyXSBTZW5kIEEgTWVzc2FnZSBUaHJvdWdoIFRoZSBXZWJob29rcy4iKQpwcmludChGb3JlLkdSRUVOICsgIlszXSBTcGFtIEFsbCA0IFdlYmhvb2tzLiIpCmNvZGVfZXhlID0gaW50KGlucHV0KCJJbnB1dCBDb21tYW5kID4+PiAiKSkKCiMgRXhpdCBsb2FkaW5nIHBoYXNlIGFuZCBvbnRvIGNvbW1hbmRzCgppZiBjb2RlX2V4ZSA9PSAxOgogICAgd2ViaG9va191cmwgPSBpbnB1dCgiUGxlYXNlIGluc2VydCB0aGUgd2ViaG9vayBVUkwgdG8gZGVsZXRlIG9yIHR5cGUgJ2FsbCcgdG8gZGVsZXRlIGFsbCBvZiB0aGVtOiAiKQogICAgaWYgd2ViaG9va191cmwubG93ZXIoKSA9PSAnYWxsJzoKICAgICAgICBmb3Igd2ViaG9vayBpbiB3ZWJob29rczoKICAgICAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5kZWxldGUod2ViaG9vaykKICAgICAgICAgICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjA0OgogICAgICAgICAgICAgICAgcHJpbnQoIldlYmhvb2sgZGVsZXRlZCBzdWNjZXNzZnVsbHkuIikKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHByaW50KCdFcnJvciBkZWxldGluZyB3ZWJob29rLiBTdGF0dXMgY29kZScsIHJlc3BvbnNlLnN0YXR1c19jb2RlKQogICAgZWxzZToKICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmRlbGV0ZSh3ZWJob29rX3VybCkKICAgICAgICBpZiByZXNwb25zZS5zdGF0dXNfY29kZSA9PSAyMDQ6CiAgICAgICAgICAgIHByaW50KCJXZWJob29rIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5LiIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoIkVycm9yIGRlbGV0aW5nIHdlYmhvb2suIFN0YXR1cyBjb2RlIiwgcmVzcG9uc2Uuc3RhdHVzX2NvZGUpCgplbGlmIGNvZGVfZXhlID09IDI6CiAgICBtZXNzYWdlID0gaW5wdXQoIklucHV0IE1lc3NhZ2UgPj4+ICIpCiAgICBzZW5kX21lc3NhZ2VzKG1lc3NhZ2UsIHdlYmhvb2tzKQoKZWxpZiBjb2RlX2V4ZSA9PSAzOgogICAgbnVtX21lc3NhZ2VzID0gaW50KGlucHV0KCJJbnB1dCBOdW1iZXIgb2YgTWVzc2FnZXMgPj4+ICIpKQogICAgbWVzc2FnZSA9IGlucHV0KCJJbnB1dCBNZXNzYWdlID4+PiAiKQogICAgc3BhbV93ZWJob29rcyhtZXNzYWdlLCB3ZWJob29rcywgbnVtX21lc3NhZ2VzKQ==
#Try decoding this automated bots lol
